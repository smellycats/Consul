docker run -d -e 'CONSUL_LOCAL_CONFIG={"skip_leave_on_interrupt": true}' --name=node1 --net=host --restart=always consul agent -server -bind=10.47.223.145 -bootstrap-expect=3 -node=node1 -client=10.47.223.145
docker run -d -e 'CONSUL_LOCAL_CONFIG={"skip_leave_on_interrupt": true}' --name=node2 --net=host --restart=always consul agent -server -bind=10.47.223.146 -join=10.47.223.145 -node-id=$(uuidgen | awk '{print tolower($0)}') -node=node2 -client=10.47.223.146
docker run -d -e 'CONSUL_LOCAL_CONFIG={"skip_leave_on_interrupt": true}' --name=node3 --net=host --restart=always consul agent -server -bind=10.47.223.147 -join=10.47.223.145 -node-id=$(uuidgen | awk '{print tolower($0)}') -node=node3 -client=0.0.0.0 -ui
docker run -d -e 'CONSUL_LOCAL_CONFIG={"leave_on_terminate": true}' --name=node8 --net=host --restart=always consul agent -bind=10.47.223.152 -retry-join=10.47.223.145 -node-id=$(uuidgen | awk '{print tolower($0)}') -node=node8 -client=0.0.0.0
docker run -d -e 'CONSUL_LOCAL_CONFIG={"skip_leave_on_interrupt": true}' --name=node1 --net=host --restart=always consul agent -server -bind=10.47.223.145 -join=10.47.223.148 -node-id=$(uuidgen | awk '{print tolower($0)}') -node=node1 -client=10.47.223.145 -ui